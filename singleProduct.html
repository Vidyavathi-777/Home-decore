<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Home Decor - Premium Home Decor</title>
  <link rel="stylesheet" href="style.css">
  <style>
    /* Global Styles */
    :root {
      --primary-color: #232323;
      --secondary-color: #f8f5f2;
      --accent-color: #c8b49d;
      --text-color: #232323;
      --light-text: #6b6b6b;
      --spacing-sm: 0.5rem;
      --spacing-md: 1.5rem;
      --spacing-lg: 3rem;
      --font-primary: 'Helvetica Neue', sans-serif;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: var(--font-primary);
      color: var(--text-color);
      background-color: #fff;
      line-height: 1.6;
    }
    
  
    main {
      max-width: 1400px;
      margin: 0 auto;
      
      padding: var(--spacing-lg) var(--spacing-md);
      display: grid;
      grid-template-columns: 1fr;
      gap: var(--spacing-lg);
    }
    
    .product-container {
      display: grid;
      grid-template-columns: 6fr 4fr;
      gap: var(--spacing-lg);
      padding-top: 6rem;
    }
    
    .product-image {
      display: flex;
      justify-content: center;
      align-items: flex-start;
    }
    
    .product-image img {
      width: 100%;
      height: auto;
      object-fit: cover;
    }
   
    .product-info-container {
      display: flex;
      flex-direction: column;
      gap: var(--spacing-lg);
    }
    
    .product-details {
      display: flex;
      flex-direction: column;
      gap: var(--spacing-md);
    }
    
    .product-details h1 {
      font-size: 1.8rem;
      font-weight: 400;
      letter-spacing: 1px;
      margin-bottom: var(--spacing-sm);
    }
    
    .price-info {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      margin-bottom: var(--spacing-md);
    }
    
    .price {
      font-size: 1.2rem;
      display: flex;
      align-items: baseline;
      gap: 0.5rem;
    }
    
    .price .amount {
      font-size: 1.5rem;
      font-weight: 400;
    }
    
    .product-specs {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      margin-bottom: var(--spacing-md);
    }
    
    .product-specs p {
      display: flex;
      justify-content: space-between;
      border-bottom: 1px solid #eee;
      padding-bottom: 0.5rem;
    }
    
    .spec-label {
      color: var(--light-text);
      font-size: 0.9rem;
      letter-spacing: 1px;
    }
    
    .spec-value {
      font-weight: 400;
    }
    
    .quantity-section {
      margin: var(--spacing-md) 0;
    }
    
    .quantity-control {
      display: flex;
      align-items: center;
      margin: var(--spacing-sm) 0;
      border: 1px solid #ddd;
      width: fit-content;
    }
    
    .quantity-control button {
      background: none;
      border: none;
      width: 40px;
      height: 40px;
      font-size: 1.2rem;
      cursor: pointer;
    }
    
    .quantity-control p {
      width: 40px;
      text-align: center;
      font-size: 1rem;
    }
    
    .add-to-cart {
      margin-top: var(--spacing-md);
      background-color: var(--primary-color);
      color: white;
      border: none;
      padding: 1rem 2rem;
      font-size: 1rem;
      letter-spacing: 1px;
      cursor: pointer;
      transition: all 0.3s ease;
      width: 100%;
    }
    
    .add-to-cart:hover {
      background-color: #000;
    }
   
    .policies {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: var(--spacing-md);
      margin-top: var(--spacing-lg);
      border-top: 1px solid #eee;
      padding-top: var(--spacing-md);
    }
    
    .policy {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: 0.5rem;
    }
    
    .policy img {
      width: 24px;
      height: 24px;
      object-fit: contain;
    }
    
    .policy h3 {
      font-size: 0.9rem;
      font-weight: 500;
      margin: 0.5rem 0 0.2rem;
    }
    
    .policy p {
      font-size: 0.8rem;
      color: var(--light-text);
    }
    
    .product-description {
      margin-top: var(--spacing-lg);
      border-top: 1px solid #eee;
      padding-top: var(--spacing-md);
    }
    
    .product-description h2 {
      font-size: 1.2rem;
      font-weight: 400;
      margin-bottom: var(--spacing-md);
      letter-spacing: 1px;
    }
    
    .product-description p {
      font-size: 1rem;
      line-height: 1.8;
      color: var(--light-text);
    }
    
 
    @media (max-width: 992px) {
      .product-container {
        grid-template-columns: 1fr;
      }
      
      .footer-content {
        grid-template-columns: repeat(2, 1fr);
      }
    }
    
    @media (max-width: 768px) {
      .nav-list {
        display: none;
      }
      
      .policies {
        grid-template-columns: 1fr;
      }
      
      .footer-content {
        grid-template-columns: 1fr;
      }
    }
  </style>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
  <header class="header-section">
      <div class="hamburger" id="hamburger">&#9776;</div>
      <nav class="navbar" id="navbar">
        <ul class="nav-list">
          <li><a href="#shop-by-category">CATEGORY</a></li>
          <li><a href="#discover-the-collection">COLLECTIONS</a></li>
          <li><a href="allProducts.html">SAMPLES</a></li>
        </ul>
      </nav>
      <h1><a href="index.html" class="logo">HOME DECOR</a></h1>
      <ul class="usermenu">
        <li><i class="fa-solid fa-magnifying-glass"></i></li>
        <li onclick="window.location.href='cart.html'">
          <i class="fa-solid fa-cart-shopping"></i>
        </li>
        <li class="user-dropdown-wrapper">
          <i class="fa-solid fa-user" id="user-icon"></i>
          <div class="user-dropdown hidden" id="user-dropdown">
            <!-- User menu content will be dynamically inserted here -->
          </div>
        </li>
      </ul>
    </header>

  <main>
    <div class="product-container">
      <div class="product-image">
        <img src="https://thedecorkart.com/cdn/shop/files/009A8485_38a63048-4f11-412d-8185-95dafd7bae11_500x.jpg?v=1746278214" alt="Glass Storage Jar with Wooden Lid and Spoon" />
      </div>
      
      <div class="product-info-container">
        <div class="product-details">
          <h1>Glass Storage Jar with Wooden Lid and Spoon</h1>
          
          <div class="price-info">
            <p class="price">
              <span class="label">Price</span>
              <span class="amount">Rs. 860</span>
              <span class="tax-note">inclusive of all taxes</span>
            </p>
            <p>Free Shipping on Prepaid orders & Orders above Rs. 5000</p>
            <p>SKU: OMRA-28-8</p>
          </div>
          
          <div class="product-specs">
            <p>
              <span class="spec-label">MATERIAL</span>
              <span class="spec-value">Glass</span>
            </p>
            <p>
              <span class="spec-label">PACK CONTENT</span>
              <span class="spec-value">1 Unit</span>
            </p>
            <p>
              <span class="spec-label">DIMENSIONS</span>
              <span class="spec-value">11 cm x 9 cm × 15 cm (L×W×H)</span>
            </p>
          </div>
          
          <div class="quantity-section">
            <p>Quantity</p>
            <div class="quantity-control">
              <button>−</button>
              <p>1</p>
              <button>+</button>
            </div>
            <button class="add-to-cart" id="addToCartBtn">Add to Cart</button>

          </div>
        </div>
        
        <div class="product-description">
          <h2>PRODUCT DETAILS</h2>
          <p>Keep your kitchen essentials fresh and organized with this elegant glass storage jar. Featuring a natural wooden lid with a secure seal and a matching wooden spoon that rests conveniently on the side, this jar is both practical and stylish. Its transparent glass body allows easy viewing of contents, making it ideal for storing sugar, salt, spices, or tea. Perfect for modern, rustic, or minimalist kitchen decor.</p>
        </div>
        
        <div class="policies">
          <div class="policy">
            <img src="https://thedecorkart.com/cdn/shop/t/301/assets/order.png?v=167654436576522912461746531441" alt="">
            <h3>Free Delivery</h3>
            <p>Free Shipping On Orders above Rs. 5000</p>
          </div>
          <div class="policy">
            <img src="https://thedecorkart.com/cdn/shop/t/301/assets/return.png?v=136021855291253627201746531441" alt="">
            <h3>Easy Returns</h3>
            <p>Return within 30 days of Order Delivery</p>
          </div>
          <div class="policy">
            <img src="https://thedecorkart.com/cdn/shop/t/301/assets/secure.png?v=175744316472617686811746531441" alt="">
            <h3>Secure Payments</h3>
            <p>Safer, Faster and more Secure Online Payment</p>
          </div>
          <div class="policy">
            <img src="https://thedecorkart.com/cdn/shop/t/301/assets/cash.png?v=65799466309934174931746531441" alt="">
            <h3>Cash On Delivery</h3>
            <p>COD Available</p>
          </div>
        </div>
      </div>
    </div>
  </main>

  <footer id="footer">
    <section class="details">
      <div class="company">
        <ul>
          <li>About Ivory Nest</li>
          <li>Careers</li>
          <li>Contact</li>
          <li>Cookie Policy</li>
          <li>Food Administration Report</li>
          <li>Declaration</li>
          <li>Our Responsibility</li>
          <li>Whistleblower Platform</li>
        </ul>
      </div>
      <div class="customer-service">
        <ul>
          <li>Store Locator</li>
          <li>Visit us</li>
          <li>Shipping Policy</li>
          <li>Return Policy</li>
          <li>Terms and Conditions</li>
          <li>Privacy Policy</li>
        </ul>
      </div>
      <div class="professionals">
        <ul>
          <li>B2B Online Portal</li>
          <li>Image Bank</li>
          <li>Upholstery Program</li>
          <li>Press Kit</li>
          <li>Revit & pCon Planner</li>
          <li>2D, 3D & Revit Files</li>
        </ul>
      </div>
      <div class="newsleter">
        <p>
          Stay connected to receive updates, learn about special events & new
          product launches from Ivory Nest.
        </p>
        <button>SUBSCRIBE</button>
        <ul>
          <li><i class="fab fa-facebook-f"></i></li>
          <li><i class="fab fa-instagram"></i></li>
          <li><i class="fab fa-pinterest-p"></i></li>
        </ul>
      </div>
    </section>
    <section class="copyrights">
      <h1>Ivory Nest</h1>
      <p>Ivory A/S, Aarhusgade, Floor 2, Denmark</p>
      <p>CVR: 12236483479, info@ivorynest.com</p>
    </section>
  </footer>
  <script src="script.js"></script>
  <script>
    
document.addEventListener('DOMContentLoaded', function() {
  // Get product ID from URL or use default
  const urlParams = new URLSearchParams(window.location.search);
  const productId = urlParams.get('id') || 1; // Default to product ID 1 if not specified
  
  // Elements to update
  const productImage = document.querySelector('.product-image img');
  const productTitle = document.querySelector('.product-details h1');
  const productPrice = document.querySelector('.price .amount');
  const productSKU = document.querySelector('.price-info p:last-child');
  const productMaterial = document.querySelector('.product-specs p:nth-child(1) .spec-value');
  const productPackContent = document.querySelector('.product-specs p:nth-child(2) .spec-value');
  const productDimensions = document.querySelector('.product-specs p:nth-child(3) .spec-value');
  const productDescription = document.querySelector('.product-description p');
  const addToCartButton = document.getElementById("addToCartBtn")
  
  // Loading state
  function setLoadingState() {
    productTitle.textContent = 'Loading product...';
    productPrice.textContent = '...';
    productImage.src = '/api/placeholder/500/500';
    productImage.alt = 'Loading product...';
  }
  
  // Error state
  function setErrorState(message) {
    productTitle.textContent = message || 'Error loading product';
    productPrice.textContent = '--';
    productImage.src = '/api/placeholder/500/500';
    productImage.alt = 'Product not found';
    addToCartButton.disabled = true;
  }
  
  // Fetch product data
  async function fetchProductData(id) {
    setLoadingState();
    
    try {
      const response = await fetch(`https://home-decor-tqze.onrender.com/products/${id}`);
      
      if (!response.ok) {
        throw new Error(`API error: ${response.status}`);
      }
      
      const product = await response.json();
      updateProductUI(product);
      return product;
    } catch (error) {
      console.error('Error fetching product data:', error);
      setErrorState('Failed to load product. Please try again later.');
      return null;
    }
  }
  
  // Update UI with product data
  function updateProductUI(product) {
    if (!product || !product.name) {
      setErrorState('Product not found');
      return;
    }
    
    // Update basic product info
    document.title = `${product.name} | Ivory Nest`;
    productTitle.textContent = product.name;
    productPrice.textContent = `Rs. ${product.price}`;
    productImage.src = product.image;
    productImage.alt = product.name;
    
    // Update product details
    productSKU.textContent = `SKU: ${product.id || 'N/A'}`;
    
    // Update specs if available in API response, otherwise keep defaults
    if (product.material) {
      productMaterial.textContent = product.material;
    }
    
    if (product.packContent) {
      productPackContent.textContent = product.packContent;
    }
    
    if (product.dimensions) {
      productDimensions.textContent = product.dimensions;
    }
    
    // Update description
    if (product.description) {
      productDescription.textContent = product.description;
    }
    
    // Enable add to cart button
    addToCartButton.disabled = false;
    
    // Add event listeners for quantity controls
    const quantityText = document.querySelector('.quantity-control p');
    const decreaseBtn = document.querySelector('.quantity-control button:first-child');
    const increaseBtn = document.querySelector('.quantity-control button:last-child');
    
    let quantity = 1;
    
    decreaseBtn.addEventListener('click', function() {
      if (quantity > 1) {
        quantity--;
        quantityText.textContent = quantity;
      }
    });
    
    increaseBtn.addEventListener('click', function() {
      quantity++;
      quantityText.textContent = quantity;
    });
    
    // Add to cart functionality
    addToCartBtn.addEventListener("click", async () => {
      console.log("adding product to the cart");
      
    try {
      // Send product data to backend API to add to cart
      const response = await fetch(`https://home-decor-tqze.onrender.com/products/cartload/${productId}`, {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          "Authorization": `bearer ${localStorage.getItem("token")}` // If using JWT for authentication
        },
        body: JSON.stringify(product)
      });

      if (!response.ok) {
        throw new Error("Failed to add product to cart");
      }

      const data = await response.json();
      alert("product adde to cart")
      console.log("Product added to cart:", data);
      
      // Optionally, redirect to cart page
      // window.location.href = "cart.html"; // Or update the cart UI dynamically
    } catch (error) {
      console.error("Error:", error);
    }
  });
  }
  
  // Initialize
  fetchProductData(productId);
});
  </script>
  <!-- <script src="cart-integration.js"></script> -->
  
</body>

</html>

